<% layout('layouts/login') -%>

<script>
    // 1 people , 2 product , 3 bank, 4 Ledger
    var data1 = '0x6080604052600080556003600155600060025534801561001e57600080fd5b50610ca08061002e6000396000f3006080604052600436106100985763ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416630c40d8ec811461009d5780630e35ac15146100c857806349176c06146100f7578063701e5d751461010c5780638c67f5df14610139578063aa8c217c1461014e578063b4ce2f5314610163578063c8691b2a14610178578063cb910c6f146101a5575b600080fd5b3480156100a957600080fd5b506100b26101ba565b6040516100bf9190610c42565b60405180910390f35b3480156100d457600080fd5b506100e86100e3366004610a73565b6101c0565b6040516100bf93929190610be9565b34801561010357600080fd5b506100b261020b565b34801561011857600080fd5b5061012c610127366004610a73565b610212565b6040516100bf9190610bd5565b34801561014557600080fd5b506100b2610249565b34801561015a57600080fd5b506100b261024f565b610176610171366004610a4d565b610255565b005b34801561018457600080fd5b50610198610193366004610a4d565b610567565b6040516100bf9190610c11565b3480156101b157600080fd5b506101986105fc565b60025481565b600a602052816000526040600020818154811015156101db57fe5b6000918252602090912060039091020180546001820154600290920154600160a060020a03909116935090915083565b6004545b90565b60086020528160005260406000208181548110151561022d57fe5b600091825260209091200154600160a060020a03169150829050565b60015481565b60005481565b33600090815260076020526040812054819081901515610325576040805180820182526000808252336020808401828152600380546001810180835591865295517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b60029097029687015590517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85c909501805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0390961695909517909455908252600790529190912060ff8216905592505b506001905060005b60045460ff8216101561037b576004805433919060ff841690811061034e57fe5b6000918252602090912060039091020154600160a060020a0316141561037357600091505b60010161032d565b6001821515146103c0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103b790610c32565b60405180910390fd5b6040805160608101825233815260208101868152429282019283526004805460018101825560009190915291517f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b6003909302928301805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03909216919091179055517f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19c82015590517f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19d90910155670de0b6b3a76400003410156104ce576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103b790610c22565b60008054340181558481526008602090815260408220805460018181018355918452918320909101805473ffffffffffffffffffffffffffffffffffffffff19163317905560068054808301825592527ff652222313e28459528d920b65115c16c04f3efc82aaedc97be59f3f377c0d3f9091018590555460045481151561055257fe5b0615156105615761056161067e565b50505050565b6060600a6000838152602001908152602001600020805480602002602001604051908101604052809291908181526020016000905b828210156105f157600084815260209081902060408051606081018252600386029092018054600160a060020a031683526001808201548486015260029091015491830191909152908352909201910161059c565b505050509050919050565b60606004805480602002602001604051908101604052809291908181526020016000905b8282101561067557600084815260209081902060408051606081018252600386029092018054600160a060020a0316835260018082015484860152600290910154918301919091529083529092019101610620565b50505050905090565b600080600080600080610691600a6108d8565b60028054600101905560008181526008602052604081208054929850965010156108b25784546000548115156106c357fe5b049350600092505b845460ff8416101561083757600091505b60045460ff8316101561082c576004805460ff84169081106106fa57fe5b60009182526020909120600390910201548554600160a060020a0390911690869060ff861690811061072857fe5b600091825260209091200154600160a060020a03161415610821576002546000908152600a602052604090206004805460ff851690811061076557fe5b60009182526020808320845460018181018755958552919093206003928302909301805491909202909201805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0390931692909217825582810154928201929092556002918201549101558454859060ff85169081106107df57fe5b6000918252602082200154604051600160a060020a039091169186156108fc02918791818181858888f1935050505015801561081f573d6000803e3d6000fd5b505b6001909101906106dc565b6001909201916106cb565b5060005b60065460ff8216101561088b576008600060068360ff1681548110151561085e57fe5b9060005260206000200154815260200190815260200160002060006108839190610931565b60010161083b565b600080805561089c90600690610931565b600580546108ac91600491610952565b506108d0565b6108be60066000610931565b600580546108ce91600491610952565b505b505050505050565b600081423384428115156108e857fe5b604080519485526c01000000000000000000000000600160a060020a039094169390930260208501520660348301525190819003605401902081151561092a57fe5b0692915050565b508054600082559060005260206000209081019061094f91906109e1565b50565b8280548282559060005260206000209060030281019282156109d15760005260206000209160030282015b828111156109d1578254825473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0390911617825560018084015490830155600280840154908301556003928301929091019061097d565b506109dd9291506109fb565b5090565b61020f91905b808211156109dd57600081556001016109e7565b61020f91905b808211156109dd57805473ffffffffffffffffffffffffffffffffffffffff191681556000600182018190556002820155600301610a01565b6000610a46823561020f565b9392505050565b600060208284031215610a5f57600080fd5b6000610a6b8484610a3a565b949350505050565b60008060408385031215610a8657600080fd5b6000610a928585610a3a565b9250506020610aa385828601610a3a565b9150509250929050565b610ab681610c5a565b82525050565b6000610ac782610c56565b808452602084019350610ad983610c50565b60005b82811015610b0957610aef868351610b99565b610af882610c50565b606096909601959150600101610adc565b5093949350505050565b601581527f54e1bb916920746869e1bb837520312065746865720000000000000000000000602082015260400190565b602a81527f567569206cc3b26e6720c491e1bba36920c491e1babf6e206b6869207472616f60208201527f207468c6b0e1bb9f6e6700000000000000000000000000000000000000000000604082015260600190565b80516060830190610baa8482610aad565b506020820151610bbd6020850182610bcc565b50604082015161056160408501825b610ab68161020f565b60208101610be38284610aad565b92915050565b60608101610bf78286610aad565b610c046020830185610bcc565b610a6b6040830184610bcc565b60208082528101610a468184610abc565b60208082528101610be381610b13565b60208082528101610be381610b43565b60208101610be38284610bcc565b60200190565b5190565b600160a060020a0316905600a265627a7a723058207f983369dd27f1b5e67125b23eae2d6f7a8da938464da6852a4e5f8d35556b076c6578706572696d656e74616cf50037';
    var data2 = '0x6080604052600080556003600155600060025534801561001e57600080fd5b50610ca08061002e6000396000f3006080604052600436106100985763ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416630c40d8ec811461009d5780630e35ac15146100c857806349176c06146100f7578063701e5d751461010c5780638c67f5df14610139578063aa8c217c1461014e578063b4ce2f5314610163578063c8691b2a14610178578063cb910c6f146101a5575b600080fd5b3480156100a957600080fd5b506100b26101ba565b6040516100bf9190610c42565b60405180910390f35b3480156100d457600080fd5b506100e86100e3366004610a73565b6101c0565b6040516100bf93929190610be9565b34801561010357600080fd5b506100b261020b565b34801561011857600080fd5b5061012c610127366004610a73565b610212565b6040516100bf9190610bd5565b34801561014557600080fd5b506100b2610249565b34801561015a57600080fd5b506100b261024f565b610176610171366004610a4d565b610255565b005b34801561018457600080fd5b50610198610193366004610a4d565b610567565b6040516100bf9190610c11565b3480156101b157600080fd5b506101986105fc565b60025481565b600a602052816000526040600020818154811015156101db57fe5b6000918252602090912060039091020180546001820154600290920154600160a060020a03909116935090915083565b6004545b90565b60086020528160005260406000208181548110151561022d57fe5b600091825260209091200154600160a060020a03169150829050565b60015481565b60005481565b33600090815260076020526040812054819081901515610325576040805180820182526000808252336020808401828152600380546001810180835591865295517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b60029097029687015590517fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85c909501805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0390961695909517909455908252600790529190912060ff8216905592505b506001905060005b60045460ff8216101561037b576004805433919060ff841690811061034e57fe5b6000918252602090912060039091020154600160a060020a0316141561037357600091505b60010161032d565b6001821515146103c0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103b790610c32565b60405180910390fd5b6040805160608101825233815260208101868152429282019283526004805460018101825560009190915291517f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b6003909302928301805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03909216919091179055517f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19c82015590517f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19d90910155670de0b6b3a76400003410156104ce576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103b790610c22565b60008054340181558481526008602090815260408220805460018181018355918452918320909101805473ffffffffffffffffffffffffffffffffffffffff19163317905560068054808301825592527ff652222313e28459528d920b65115c16c04f3efc82aaedc97be59f3f377c0d3f9091018590555460045481151561055257fe5b0615156105615761056161067e565b50505050565b6060600a6000838152602001908152602001600020805480602002602001604051908101604052809291908181526020016000905b828210156105f157600084815260209081902060408051606081018252600386029092018054600160a060020a031683526001808201548486015260029091015491830191909152908352909201910161059c565b505050509050919050565b60606004805480602002602001604051908101604052809291908181526020016000905b8282101561067557600084815260209081902060408051606081018252600386029092018054600160a060020a0316835260018082015484860152600290910154918301919091529083529092019101610620565b50505050905090565b600080600080600080610691600a6108d8565b60028054600101905560008181526008602052604081208054929850965010156108b25784546000548115156106c357fe5b049350600092505b845460ff8416101561083757600091505b60045460ff8316101561082c576004805460ff84169081106106fa57fe5b60009182526020909120600390910201548554600160a060020a0390911690869060ff861690811061072857fe5b600091825260209091200154600160a060020a03161415610821576002546000908152600a602052604090206004805460ff851690811061076557fe5b60009182526020808320845460018181018755958552919093206003928302909301805491909202909201805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0390931692909217825582810154928201929092556002918201549101558454859060ff85169081106107df57fe5b6000918252602082200154604051600160a060020a039091169186156108fc02918791818181858888f1935050505015801561081f573d6000803e3d6000fd5b505b6001909101906106dc565b6001909201916106cb565b5060005b60065460ff8216101561088b576008600060068360ff1681548110151561085e57fe5b9060005260206000200154815260200190815260200160002060006108839190610931565b60010161083b565b600080805561089c90600690610931565b600580546108ac91600491610952565b506108d0565b6108be60066000610931565b600580546108ce91600491610952565b505b505050505050565b600081423384428115156108e857fe5b604080519485526c01000000000000000000000000600160a060020a039094169390930260208501520660348301525190819003605401902081151561092a57fe5b0692915050565b508054600082559060005260206000209081019061094f91906109e1565b50565b8280548282559060005260206000209060030281019282156109d15760005260206000209160030282015b828111156109d1578254825473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0390911617825560018084015490830155600280840154908301556003928301929091019061097d565b506109dd9291506109fb565b5090565b61020f91905b808211156109dd57600081556001016109e7565b61020f91905b808211156109dd57805473ffffffffffffffffffffffffffffffffffffffff191681556000600182018190556002820155600301610a01565b6000610a46823561020f565b9392505050565b600060208284031215610a5f57600080fd5b6000610a6b8484610a3a565b949350505050565b60008060408385031215610a8657600080fd5b6000610a928585610a3a565b9250506020610aa385828601610a3a565b9150509250929050565b610ab681610c5a565b82525050565b6000610ac782610c56565b808452602084019350610ad983610c50565b60005b82811015610b0957610aef868351610b99565b610af882610c50565b606096909601959150600101610adc565b5093949350505050565b601581527f54e1bb916920746869e1bb837520312065746865720000000000000000000000602082015260400190565b602a81527f567569206cc3b26e6720c491e1bba36920c491e1babf6e206b6869207472616f60208201527f207468c6b0e1bb9f6e6700000000000000000000000000000000000000000000604082015260600190565b80516060830190610baa8482610aad565b506020820151610bbd6020850182610bcc565b50604082015161056160408501825b610ab68161020f565b60208101610be38284610aad565b92915050565b60608101610bf78286610aad565b610c046020830185610bcc565b610a6b6040830184610bcc565b60208082528101610a468184610abc565b60208082528101610be381610b13565b60208082528101610be381610b43565b60208101610be38284610bcc565b60200190565b5190565b600160a060020a0316905600a265627a7a723058207f983369dd27f1b5e67125b23eae2d6f7a8da938464da6852a4e5f8d35556b076c6578706572696d656e74616cf50037';
    var data3 = '0x608060405234801561001057600080fd5b5061020e806100206000396000f3006080604052600436106100565763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166370a082318114610088578063b69ef8a8146100be578063d0e30db0146100d3575b33600090815260208190526040902054610076903463ffffffff6100dd16565b33600090815260208190526040902055005b34801561009457600080fd5b506100a86100a336600461016f565b6100f6565b6040516100b591906101a4565b60405180910390f35b3480156100ca57600080fd5b506100a861011e565b6100db610131565b005b6000828201838110156100ef57600080fd5b9392505050565b73ffffffffffffffffffffffffffffffffffffffff1660009081526020819052604090205490565b3360009081526020819052604090205490565b33600090815260208190526040902054610151903463ffffffff6100dd16565b33600090815260208190526040902055565b60006100ef82356101bb565b60006020828403121561018157600080fd5b600061018d8484610163565b949350505050565b61019e816101b8565b82525050565b602081016101b28284610195565b92915050565b90565b73ffffffffffffffffffffffffffffffffffffffff16905600a265627a7a7230582080c55bdec042a8e641a5ecc2ba5dfda21a5d1920d31c794a10a69e9f0f9ddf966c6578706572696d656e74616cf50037';
    var data4 = '0x608060405234801561001057600080fd5b5060008054600160a060020a031916331790556103b1806100326000396000f30060806040526004361061004b5763ffffffff7c0100000000000000000000000000000000000000000000000000000000600035041663765a91ff8114610050578063aa15efc814610072575b600080fd5b34801561005c57600080fd5b5061007061006b36600461025a565b61009d565b005b34801561007e57600080fd5b50610087610165565b604051610094919061032d565b60405180910390f35b6100a5610235565b60005473ffffffffffffffffffffffffffffffffffffffff16338114610100576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100f79061033e565b60405180910390fd5b5050604080516020808201835273ffffffffffffffffffffffffffffffffffffffff938416825233600090815260018083529381208054948501815581522090519101805473ffffffffffffffffffffffffffffffffffffffff191691909216179055565b60005460609073ffffffffffffffffffffffffffffffffffffffff163381146101ba576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100f79061033e565b33600090815260016020908152604080832080548251818502810185019093528083529193909284015b8282101561022b576000848152602090819020604080518084019091529084015473ffffffffffffffffffffffffffffffffffffffff1681528252600190920191016101e4565b5050505091505090565b60408051602081019091526000815290565b6000610253823561035e565b9392505050565b60006020828403121561026c57600080fd5b60006102788484610247565b949350505050565b6102898161035e565b82525050565b600061029a8261035a565b8084526020840193506102ac83610354565b60005b828110156102dc576102c2868351610316565b6102cb82610354565b6020969096019591506001016102af565b5093949350505050565b601181527f5065726d697373696f6e2064656e696564000000000000000000000000000000602082015260400190565b805160208301906103278482610280565b50505050565b60208082528101610253818461028f565b6020808252810161034e816102e6565b92915050565b60200190565b5190565b73ffffffffffffffffffffffffffffffffffffffff16905600a265627a7a7230582053271b12fa6ba77a8cb80b6051f26d8d706175b398b933bac0fed5cb0030d7936c6578706572696d656e74616cf50037';


    async function deploy(abi,data,stt) {
        var abiContract = new web3.eth.Contract(abi);
        var Mycontract = abiContract.deploy({
            data: data,
            arguments: []
        })

        var acc = await web3.eth.getAccounts();
        Mycontract.send({
                from: acc[0],
                gasPrice: web3.utils.toHex(web3.utils.toWei('1', 'gwei'))
            })
            .then(function (newContractInstance) {
                $.ajax({
                    type: "POST",
                    url: "deploycontract",
                    data: {
                        address:newContractInstance.options.address,
                        type:stt
                    }
                }).done((data)=>{
                    if(data.status){
                        location.reload();
                    }else{
                        console.log(data.err)
                        alert("loi");
                    }
                });
            });
    }

</script>
<div class="login-box">
    <div>
        <div class="login-form row">
            <div class="col-sm-12 text-center login-header">
                <i class="login-logo fa fa-connectdevelop fa-5x"></i>
                <h4 class="login-title">Deploy Supply Base</h4>
            </div>
            <div class="col-sm-12">
                <div class="login-button text-center">
                    <button type="button" onclick="deploy(abi1,data1,1)" class="btn btn-primary">Deploy People</button>
                    <button type="button" onclick="deploy(abi2,data2,2)" class="btn btn-primary">Deploy Products</button>
                    <button type="button" onclick="deploy(abi3,data3,3)" class="btn btn-primary">Deploy Bank</button>
                    <button type="button" onclick="deploy(abi4,data4,4)" class="btn btn-primary">Deploy Ledger</button>
                </div>
            </div>
        </div>
    </div>
</div>